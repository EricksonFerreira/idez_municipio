import{c as e,a,b as o,u as r,R as t,o as n,F as s,r as i,t as l,n as d,d as c,e as u,f as m,g as p,h as v,i as g,j as f,k as b,l as y}from"./vue.CwvEpeDt.js";import{a as h}from"./vendor.IRYbH52S.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const w={id:"app"},x={class:"container mx-auto p-4"},E={__name:"App",setup:s=>(s,i)=>(n(),e("div",w,[i[0]||(i[0]=a("nav",{class:"bg-blue-600 text-white p-4"},[a("div",{class:"container mx-auto flex justify-between items-center"},[a("h1",{class:"text-2xl font-bold"},"Municípios do Brasil")])],-1)),a("main",x,[o(r(t))]),i[1]||(i[1]=a("footer",{class:"bg-gray-100 p-4 mt-8"},[a("div",{class:"container mx-auto text-center text-gray-600"},[a("p",null,"© 2025 API de Municípios - Todos os direitos reservados")])],-1))]))},P={getEstados:async()=>({AC:"Acre",AL:"Alagoas",AP:"Amapá",AM:"Amazonas",BA:"Bahia",CE:"Ceará",DF:"Distrito Federal",ES:"Espírito Santo",GO:"Goiás",MA:"Maranhão",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Pará",PB:"Paraíba",PR:"Paraná",PE:"Pernambuco",PI:"Piauí",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rondônia",RR:"Roraima",SC:"Santa Catarina",SP:"São Paulo",SE:"Sergipe",TO:"Tocantins"}),async getMunicipiosPorEstado(e,a=1){try{return(await h.get(`https://buscamunicipio.ericksondevs.tech/api/municipios/${e}`,{params:{page:a}})).data}catch(o){throw console.error(`Erro ao buscar municípios de ${e}:`,o),o}}},S={class:"sticky top-0 bg-white z-10 pt-2 pb-4"},M=["value","disabled"],k=["value"],A={__name:"EstadoSelector",props:{modelValue:{type:String,required:!0},estados:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:o=>(r,t)=>(n(),e("div",S,[t[2]||(t[2]=a("label",{for:"estado",class:"block text-sm font-medium text-gray-700 mb-2"}," Selecione um estado: ",-1)),a("select",{id:"estado",value:o.modelValue,onChange:t[0]||(t[0]=e=>r.$emit("update:modelValue",e.target.value)),class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",disabled:o.loading},[t[1]||(t[1]=a("option",{value:""},"Selecione um estado",-1)),(n(!0),e(s,null,i(o.estados,a=>(n(),e("option",{key:a.sigla,value:a.sigla},l(a.nome)+" ("+l(a.sigla)+") ",9,k))),128))],40,M)]))},R={__name:"LoadingSpinner",props:{containerClass:{type:String,default:"my-8"},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)}},setup(o){const t={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12"}[o.size];return(s,i)=>(n(),e("div",{class:d(["flex justify-center",o.containerClass])},[a("div",{class:d(["animate-spin rounded-full border-t-2 border-b-2 border-blue-500",r(t)])},null,2)],2))}},O={class:"p-8 max-w-4xl mx-auto"},_={key:1,class:"mt-6"},C={key:0,class:"text-center text-gray-500 py-12"},j={key:1},N={class:"flex justify-between items-center mb-4"},L={class:"text-xl font-semibold"},B={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},T={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},z={class:"font-medium text-blue-600 truncate"},G={class:"text-sm text-gray-500 mt-1"},I={class:"mt-2 pt-2 border-t border-gray-100"},V={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},D={key:0,class:"mt-6 text-center"},F=["disabled"],q={key:0},$={key:1},H={__name:"MunicipiosList",setup(r){const t=c([]),d=c([]),g=c(!1),f=c(!1),b=c(""),y=c(1),h=c(1),w=c(0),x=c(!0),E=u(()=>t.value.find(e=>e.sigla===b.value)||null);function S(){d.value=[],y.value=1,x.value=!0,M()}async function M(){if(b.value&&x.value&&!g.value&&!f.value)try{1===y.value?g.value=!0:f.value=!0;const e=await P.getMunicipiosPorEstado(b.value,y.value);y.value=e.current_page+1,h.value=e.last_page,w.value=e.total,x.value=e.current_page<e.last_page,d.value=[...d.value,...e.data||[]]}catch(e){console.error("Erro ao carregar municípios:",e),alert("Erro ao carregar mais municípios. Tente novamente.")}finally{g.value=!1,f.value=!1}}return m(async()=>{try{g.value=!0;const e=await P.getEstados(),a=Object.entries(e).map(([e,a])=>({sigla:e,nome:a}));t.value=a.sort((e,a)=>e.nome.localeCompare(a.nome))}catch(e){console.error("Erro ao carregar estados:",e),alert("Erro ao carregar a lista de estados. Tente novamente.")}finally{g.value=!1}}),(r,c)=>{var u;return n(),e("div",O,[c[2]||(c[2]=a("h1",{class:"text-2xl font-bold mb-6"},"Municípios por Estado",-1)),o(A,{modelValue:b.value,"onUpdate:modelValue":[c[0]||(c[0]=e=>b.value=e),S],estados:t.value,loading:g.value},null,8,["modelValue","estados","loading"]),g.value&&!d.value.length?(n(),p(R,{key:0,size:"lg"})):(n(),e("div",_,[0===d.value.length?(n(),e("div",C,c[1]||(c[1]=[a("p",null,"Nenhum município encontrado para o estado selecionado.",-1)]))):(n(),e("div",j,[a("div",N,[a("h2",L,"Municípios de "+l((null==(u=E.value)?void 0:u.nome)||""),1),a("span",B,l(w.value)+" municípios ",1)]),a("div",T,[(n(!0),e(s,null,i(d.value,o=>(n(),e("div",{key:o.ibge_code,class:"p-4 border rounded-lg hover:shadow-md transition-shadow duration-200"},[a("h3",z,l(o.name),1),a("p",G,"Código: "+l(o.ibge_code),1),a("div",I,[a("span",V,l(b.value),1)])]))),128))]),x.value?(n(),e("div",D,[a("button",{onClick:M,disabled:f.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[f.value?(n(),e("span",$,"Carregando...")):(n(),e("span",q,"Carregar mais"))],8,F)])):v("",!0)]))]))])}}},J=g({history:f("/"),routes:[{path:"/",name:"home",component:H,meta:{title:"Municípios do Brasil"}},{path:"/estado/:uf",name:"estado",component:H,props:!0,meta:{title:"Municípios - "}},{path:"/:pathMatch(.*)*",redirect:"/"}],scrollBehavior:(e,a,o)=>o||{top:0}});function K(e){const a=document.getElementById("app");a&&(a.innerHTML=`\n      <div class="min-h-screen bg-gray-100 flex items-center justify-center p-4">\n        <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center">\n          <div class="text-red-500 text-5xl mb-4">\n            <i class="fas fa-exclamation-circle"></i>\n          </div>\n          <h1 class="text-2xl font-bold text-gray-800 mb-4">Ocorreu um erro</h1>\n          <p class="text-gray-600 mb-6">${e}</p>\n          <button \n            onclick="window.location.reload()" \n            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"\n          >\n            Tentar novamente\n          </button>\n        </div>\n      </div>\n    `)}async function U(){try{if(!["Promise"in window,"fetch"in window,"Proxy"in window,"Map"in window,"Set"in window,"Symbol"in window,"Object"in window&&"assign"in Object,"Array"in window&&"from"in Array,"isFinite"in Number,"isNaN"in Number].every(e=>!0===e)&&(K("Seu navegador não é compatível com esta aplicação. Por favor, atualize para a versão mais recente do seu navegador."),1))return;const e=b(E);e.config.errorHandler=(e,a,o)=>{console.error("Erro no componente:",e),console.error("Informações adicionais:",o),K("Ocorreu um erro inesperado na aplicação. Por favor, recarregue a página.")},window.onerror=function(e,a,o,r,t){return console.error("Erro não capturado:",{message:e,source:a,lineno:o,colno:r,error:t}),K("Ocorreu um erro inesperado. Por favor, tente novamente."),!0},window.onunhandledrejection=function(e){console.error("Rejeição de promessa não tratada:",e.reason),K("Ocorreu um erro ao processar sua solicitação. Por favor, tente novamente."),e.preventDefault()},e.use(y()),e.use(J),await J.isReady(),e.mount("#app"),console.log("Aplicação Vue inicializada com sucesso!")}catch(e){console.error("Falha crítica ao inicializar a aplicação:",e),K("Não foi possível carregar a aplicação. Por favor, verifique sua conexão e tente novamente."),window.trackError&&window.trackError({type:"APP_INIT_ERROR",error:e.toString(),stack:e.stack,timestamp:(new Date).toISOString()})}}J.beforeEach((e,a,o)=>{document.title=e.meta.title||"Municípios do Brasil",o()}),J.onError(e=>{console.error("Erro de roteamento:",e),"ChunkLoadError"===e.name&&(window.location.href="/")}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",U):U();
//# sourceMappingURL=main.CRMsJ8iV.js.map
